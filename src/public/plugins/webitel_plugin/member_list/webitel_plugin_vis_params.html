<div ng-controller="KbnWebitelPluginMemberListParamController">
    <div class="webitel-plugin-vis-options form-group" ng-show="showDomains" >
        <label ng-if="$index < 1 || groupName !== 'buckets'" class="ng-scope">Domain</label>
        <select
                ng-init="getDomains()"
                ng-options="domain.name as domain.name for domain in domains"
                class="form-control ng-pristine ng-valid ng-valid-required ng-touched"
                ng-model="vis.params.domain"
                required
                >
        </select>
    </div>

    <div class="form-group" style="margin-top: 20px;">
        <label ng-if="$index < 1 || groupName !== 'buckets'" class="ng-scope">Columns</label>
        <table class="table" ng-table="tableParamsCol" >
            <tr ng-repeat="column in columns">
                <td data-title="'Field ID'">
                    {{column.field}}
                </td>
                <td data-title="'Title'">
                    <input class="form-control" type="text" ng-model="vis.params.columns[column.field].title"
                           ng-init="vis.params.columns[column.field].title=vis.params.columns[column.field].title||column.title"/>
                </td>

                <td style="display: none">
                    <input class="form-control" type="text" ng-model="vis.params.columns[column.field].field" ng-show="false"
                           ng-init="vis.params.columns[column.field].field=vis.params.columns[column.field].field||column.field"/>
                </td>

                <td style="display: none">
                    <input class="form-control" type="text" ng-model="vis.params.columns[column.field].sortable" ng-show="false"
                           ng-init="vis.params.columns[column.field].sortable=vis.params.columns[column.field].sortable||column.sortable"/>
                </td>

                <td style="display: none">
                    <input class="form-control" type="text" ng-model="vis.params.columns[column.field].groupable" ng-show="false"
                           ng-init="vis.params.columns[column.field].groupable=vis.params.columns[column.field].groupable||column.groupable"/>
                </td>


                <td data-title="'Visible'">
                    <input type="checkbox" ng-model="vis.params.columns[column.field].show"
                           ng-init="vis.params.columns[column.field].show=vis.params.columns[column.field].show||column.show">
                </td>
            </tr>
        </table>

    </div>

</div>